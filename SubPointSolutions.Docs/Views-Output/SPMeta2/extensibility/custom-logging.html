<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Logging</title>

    <link href="/content/bootstrap.min.css" rel="stylesheet">

    <link href="/content/syntaxhighlighter/shcore.css" rel="stylesheet">
    <link href="/content/syntaxhighlighter/shcoredefault.css" rel="stylesheet">

    <link href="/content/s.docs.default.css" rel="stylesheet">
</head>
<body>


    

<style>
    .font-17 {
        font-size: 17px;
    }
</style>



<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
                Documentation
                    <span class="glyphicon glyphicon-chevron-right">
            </span></a>
        </div>

            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle font-17" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                        SPMeta2<span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/spmeta2-ex">SPMeta2 VS Extensions</a></li>
                        <li><a href="/spmeta2-spec">SPMeta2 Spec</a></li>
                        <li><a href="/spmeta2-nuget">SPMeta2 NuGet</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/resp">reSP</a></li>
                    </ul>
                </li>
            </ul>

    </div>
</div>

<div class="container body-content sd-body-content">

    <div class="row">
        



<div class="sub-nav">



    <h2>
            <a href="/spmeta2/extensibility/index.html">
                Extensibility
            </a>
        
    </h2>

    <ul>
            <li>
                <a class="" href="/spmeta2/getting-started/index.html">
                    Getting Started
                </a>
            </li>
            <li>
                <a class="" href="/spmeta2/reference/index.html">
                    Reference
                </a>
            </li>
            <li>
                <a class="active" href="/spmeta2/extensibility/index.html">
                    Extensibility
                </a>
            </li>
            <li>
                <a class="" href="/spmeta2/samples/index.html">
                    Samples
                </a>
            </li>
            <li>
                <a class="" href="/spmeta2/kb/index.html">
                    KB
                </a>
            </li>

    </ul>
</div>
    </div>

    <div class="row">

        <div class="col-lg-8 col-md-8 col-sm-8">
            <p>This article provides basics on creating a custom definion and model handler for SPMeta2 library.</p>
<p>Before you begin, make sure you are familiar with the following concepts:</p>
<ul>
<li><a href="http://docs.subpointsolutions.com/spmeta2/basics/" target="_blank">SPMeta2 basics</a></li>
<li><a href="http://docs.subpointsolutions.com/spmeta2/definitions/" target="_blank">SPMeta2 definitions</a></li>
</ul>
<h3>Overview</h3>
<p>SPMeta2 provides a low level syntax API to compose definitions into a model. Sometimes a model can get quite big, clunky and hard to maintain, so a custom syntax extension can be written to fill the gap.</p>
<p>There is a naming convention which is used to provide base syntax API. All SPMeta2 definitions meet the following criterias where XXX is a name of the definition:</p>
<h4>Required criterias</h4>
<ul>
<li>AddXXX(definition) method must exist. It provides a basic API to add a definition to the model.</li>
<li>AddXXX(definition, action) method must exist. Adds a definition to the model and provides a call back to resolve current definition's model node.</li>
<li>AddXXXs(IEnumerable&lt;&gt;) method must exist. It provides an array overlow for adding a bunch of the definitions to the model.</li>
</ul>
<h4>Optional criterias</h4>
<ul>
<li>WithXXXs(action) method should optionally exist</li>
<li>AddHostXXXs(action) method should optionally exist</li>
</ul>
<p>WithXXXs() method is nothing more than a synytax sugar. It does nothing bur provides a usefull separation while building a model.</p>
<p>AddHostXXXs method is used to set ModelNode.Options.RequireSelfProcessing to 'FALSE', so that a definition won't be processes. It assumes that artifact already exists, and definition is used only to lookup artifact to continue provision flow.</p>
<h3>Writing custom syntax</h3>
<p>Most of the time you would need a custom definition to address the following scenarios:</p>
<ul>
<li>Make the model more readable and maintainable</li>
<li>Introduce project specific domain</li>
</ul>
<p>The following method prototype should be used to create a custom syntax extension:</p>
<p>[TEST.SyntaxExtensionPrototype]</p>
<p>Let's have a close look and see how it goes. Here is a scenarios - we need to hide some fields in the target content type, and here is how it can be done with SPMeta2:</p>
<p>[TEST.HideContentTypeFieldsAsOOTB]</p>
<p>This does the job hiding fields within target content type, but looks to hard to understand and maintain.
Let's improve this and write a custom syntax extension, so that our model would be express in a much better way.</p>
<p>The following extension method should be created:</p>
<p>[TEST.HideContentTypeFieldsByIds]</p>
<p>Now we can re-write hiding fields model with a better syntax:</p>
<p>[TEST.HideContentTypeFieldsAsExtension]</p>


        </div>

        <div class="col-lg-4 col-md-4 col-sm-4">
            

<div class="sd-sidebar panel panel-default hidden-print hidden-xs hidden-sm affix1">
    <ul class="nav ">
                        <li class="root">

                            <a href="/spmeta2/extensibility/index.html">
                                Extensibility
                            </a>
                        </li>
                        <li class="root">

                            <a href="/spmeta2/extensibility/custom-definition.html">
                                Custom Definitions
                            </a>
                        </li>
                        <li class="root active">

                            <a href="/spmeta2/extensibility/custom-logging.html">
                                Custom Logging
                            </a>
                        </li>
                        <li class="root">

                            <a href="/spmeta2/extensibility/custom-syntax.html">
                                Custom syntax
                            </a>
                        </li>

    </ul>



</div>
        </div>

    </div>
</div>

<div class="container sps-footer">
    <div class="row">
        <hr>
        <footer>
            <p>Copyright Â© SubPoint Solutions 2016. Built with "Bootstrap" theme.</p>
        </footer>
    </div>
</div>


    <script src="/scripts/jquery-1.9.1.min.js"></script>
    <script src="/scripts/bootstrap.js"></script>

    <script src="/scripts/syntaxhighlighter/shcore.js"></script>
    <script src="/scripts/syntaxhighlighter/shbrushcsharp.js"></script>
    <script src="/scripts/syntaxhighlighter/shbrushxml.js"></script>


    

    


    <script>

        jQuery(document).ready(function () {

            jQuery('code.language-cs')
                .addClass('brush: csharp;');

            jQuery('code.language-xml')
                .addClass('brush: xml;');

            SyntaxHighlighter.defaults['quick-code'] = false;
            SyntaxHighlighter.config.tagName = 'code';
            SyntaxHighlighter.all();
        });

    </script>



</body></html>